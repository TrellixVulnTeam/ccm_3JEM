{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport http from '../../utils/http';\nimport { withRouter } from 'next/router';\nimport { getDuration } from '../../utils/date';\nimport { analysisInput, formatDate } from '../../utils/common';\nimport Link from 'next/link';\nimport Styled from 'styled-components';\nimport { injectIntl } from 'react-intl';\nimport { MyContext } from '../../reducer';\nimport Layout from '../../components/layout';\nimport { PayCircleOutlined, RocketOutlined } from '@ant-design/icons';\nconst Hash = injectIntl(({\n  router,\n  intl\n}) => {\n  const {\n    state\n  } = useContext(MyContext);\n  const id = router.query.id;\n  const {\n    0: trade,\n    1: setTrade\n  } = useState({});\n  useEffect(() => {\n    http.get(`/api/trade/hash/${id}`, data => {\n      setTrade(data);\n    });\n  }, []);\n\n  const handleTradeSuccess = () => {\n    if (trade.newBlockNumber - trade.blockNumber >= 6) {\n      return __jsx(\"div\", {\n        className: \"success type\"\n      }, intl.messages.lang45);\n    } else if (trade.input) {\n      return __jsx(\"div\", {\n        className: \"an type\"\n      }, intl.messages.lang65);\n    }\n  };\n\n  const handleTokenTradeSuccess = () => {\n    if (!trade.isSuccess) {\n      return __jsx(\"div\", {\n        className: \"error type\"\n      }, trade.blockNumber ? intl.messages.lang46 : '');\n    } else if (trade.isSuccess && trade.newBlockNumber - trade.blockNumber >= 6) {\n      return __jsx(\"div\", {\n        className: \"success type\"\n      }, intl.messages.lang45);\n    } else {\n      return __jsx(\"div\", {\n        className: \"an type\"\n      }, intl.messages.lang65);\n    }\n  };\n\n  return __jsx(Layout, null, __jsx(Box, {\n    state: state\n  }, __jsx(\"div\", {\n    className: \"rs-hash-head\"\n  }, __jsx(\"em\", null, intl.messages.lang43), id), __jsx(\"div\", {\n    className: \"rs-hash-btn-cont\"\n  }, __jsx(\"div\", {\n    className: \"rs-hash-btn\"\n  }, __jsx(PayCircleOutlined, null), __jsx(\"div\", {\n    className: \"rs-hash-btn-ri\"\n  }, __jsx(\"span\", {\n    className: \"title\"\n  }, intl.messages.lang44), trade.statusV === '0x38' ? handleTokenTradeSuccess() : handleTradeSuccess())), __jsx(\"div\", {\n    className: \"rs-hash-btn\"\n  }, __jsx(RocketOutlined, null), __jsx(\"div\", {\n    className: \"rs-hash-btn-ri\"\n  }, __jsx(\"span\", {\n    className: \"title\"\n  }, intl.messages.lang28), __jsx(\"div\", {\n    className: \"type an\"\n  }, trade.blockNumber)))), __jsx(\"div\", {\n    className: \"rs-hash-list\"\n  }, __jsx(\"div\", {\n    className: \"rs-hash-li\"\n  }, __jsx(\"em\", null, intl.messages.lang48, \":\"), __jsx(\"div\", {\n    className: \"cont\"\n  }, trade.timestamp ? formatDate(trade.timestamp * 1000) : '')), __jsx(\"div\", {\n    className: \"rs-hash-li\"\n  }, __jsx(\"em\", null, intl.messages.lang24, \":\"), __jsx(\"div\", {\n    className: \"cont\"\n  }, __jsx(Link, {\n    href: `/addr/${trade.from}`,\n    as: `/addr/${trade.from}`\n  }, __jsx(\"a\", null, trade.from)))), trade.statusV === '0x37' && __jsx(\"div\", {\n    className: \"rs-hash-li\"\n  }, __jsx(\"em\", null, intl.messages.lang25, \":\"), __jsx(\"div\", {\n    className: \"cont\"\n  }, __jsx(Link, {\n    href: `/addr/${trade.to}`,\n    href: `/addr/${trade.to}`\n  }, __jsx(\"a\", null, trade.to)))), trade.statusV === '0x38' && __jsx(\"div\", {\n    className: \"rs-hash-li\"\n  }, __jsx(\"em\", null, intl.messages.lang49, \":\"), __jsx(\"div\", {\n    className: \"cont\"\n  }, __jsx(Link, {\n    href: `/receiver/${trade.to}`,\n    href: `/receiver/${trade.to}`\n  }, __jsx(\"a\", null, trade.to)))), __jsx(\"div\", {\n    className: \"rs-hash-li\"\n  }, __jsx(\"em\", null, intl.messages.lang26, \":\"), __jsx(\"div\", {\n    className: \"cont\"\n  }, trade.value, \" CCM\"))), trade.statusV === '0x38' && __jsx(\"div\", {\n    className: \"rs-hash-list\"\n  }, __jsx(\"div\", {\n    className: \"rs-hash-title\"\n  }, intl.messages.lang57), __jsx(\"div\", {\n    className: \"rs-hash-li\"\n  }, __jsx(\"em\", null, intl.messages.lang25, \":\"), __jsx(\"div\", {\n    className: \"cont\"\n  }, __jsx(Link, {\n    href: `/addr/${trade.realAddress}`,\n    as: `/addr/${trade.realAddress}`\n  }, __jsx(\"a\", null, trade.realAddress)))), __jsx(\"div\", {\n    className: \"rs-hash-li\"\n  }, __jsx(\"em\", null, intl.messages.lang26, \":\"), __jsx(\"div\", {\n    className: \"cont\"\n  }, analysisInput(trade.input, trade.decimals), \" \", trade.symbol)))));\n});\nconst Box = Styled.div.withConfig({\n  displayName: \"id__Box\",\n  componentId: \"sc-1bo6asy-0\"\n})([\".rs-hash-head{height:45px;line-height:45px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;border-radius:4px;background:#fff;padding:0 10px;em{margin-right:10px;font-weight:600;}}.rs-hash-btn-cont{margin-top:20px;display:flex;.rs-hash-btn{width:48%;border-radius:4px;display:flex;height:50px;background:#fff;justify-content:center;height:80px;&:first-child{margin-right:4%}.anticon{line-height:80px;margin-right:20px;font-size:25px;color:#1c8aec;}.rs-hash-btn-ri{padding-top:13px;min-width:80px;text-align:center;.title{margin-top:20px;}.type{margin-top:3px;font-weight:bold;&.an{color:#1c8aec;}&.success{color:rgb(0,194,0);}&.error{color:#ff0000;}}}}}.rs-hash-list{background:#fff;border-radius:2px;margin-top:20px;box-shadow:0 0 8px 0 hsla(0,0%,40%,.11);.rs-hash-title{padding:0 10px;line-height:40px;font-weight:700;}.rs-hash-li{display:flex;padding:0 14px;height:50px;align-items:center;&:nth-child(even){background:rgb(248,248,248);}> em{width:\", \";padding-right:\", \";font-family:\\\"Arial\\\";}.cont{flex:1;color:#333;font-weight:100;font-family:Arial;font-style:normal;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;a{color:#1890ff;}}}}\"], props => props.state.window > 1199 ? '160px' : 'auto', props => props.state.window > 1199 ? '0' : '10px');\nexport default withRouter(Hash);","map":null,"metadata":{},"sourceType":"module"}
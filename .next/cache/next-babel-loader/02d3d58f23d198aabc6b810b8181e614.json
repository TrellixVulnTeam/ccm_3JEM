{"ast":null,"code":"export var getCookies = function getCookies(req) {\n  var _req$headers;\n\n  return parseCookie(false ? req === null || req === void 0 ? void 0 : (_req$headers = req.headers) === null || _req$headers === void 0 ? void 0 : _req$headers.cookie : document.cookie);\n};\nexport var setCookie = function setCookie(k, v, exdays) {\n  if (true) {\n    var d = new Date();\n    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n    document.cookie = \"\".concat(k, \"=\").concat(v, \";expires=\").concat(d.toUTCString(), \";path=/\");\n  }\n};\nexport var removeCookie = function removeCookie(k) {\n  setCookie(k, '', -1);\n};\n\nvar parseCookie = function parseCookie(cookieStr) {\n  var cookies = {};\n\n  if (cookieStr) {\n    var _cookieStr$split;\n\n    (_cookieStr$split = cookieStr.split(';')) === null || _cookieStr$split === void 0 ? void 0 : _cookieStr$split.forEach(function (cookie) {\n      var parts = cookie.match(/(.*?)=(.*)$/);\n      cookies[parts[1].trim()] = (parts[2] || '').trim();\n    });\n  }\n\n  return cookies;\n};","map":{"version":3,"sources":["/Users/libaozhong/cr/ccm-front/utils/cookie.js"],"names":["getCookies","req","parseCookie","headers","cookie","document","setCookie","k","v","exdays","d","Date","setTime","getTime","toUTCString","removeCookie","cookieStr","cookies","split","forEach","parts","match","trim"],"mappings":"AAAA,OAAO,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD;AAAA;;AAAA,SACxBC,WAAW,CACT,QAAgCD,GAAhC,aAAgCA,GAAhC,uCAAgCA,GAAG,CAAEE,OAArC,iDAAgC,aAAcC,MAA9C,GAAuDC,QAAQ,CAACD,MADvD,CADa;AAAA,CAAnB;AAKP,OAAO,IAAME,SAAS,GAAG,SAAZA,SAAY,CAACC,CAAD,EAAIC,CAAJ,EAAOC,MAAP,EAAkB;AACzC,YAAmC;AACjC,QAAMC,CAAC,GAAG,IAAIC,IAAJ,EAAV;AACAD,IAAAA,CAAC,CAACE,OAAF,CAAUF,CAAC,CAACG,OAAF,KAAcJ,MAAM,GAAG,EAAT,GAAc,EAAd,GAAmB,EAAnB,GAAwB,IAAhD;AACAJ,IAAAA,QAAQ,CAACD,MAAT,aAAqBG,CAArB,cAA0BC,CAA1B,sBAAuCE,CAAC,CAACI,WAAF,EAAvC;AACD;AACF,CANM;AAQP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACR,CAAD,EAAO;AACjCD,EAAAA,SAAS,CAACC,CAAD,EAAI,EAAJ,EAAQ,CAAC,CAAT,CAAT;AACD,CAFM;;AAIP,IAAML,WAAW,GAAG,SAAdA,WAAc,CAACc,SAAD,EAAe;AACjC,MAAMC,OAAO,GAAG,EAAhB;;AACA,MAAID,SAAJ,EAAe;AAAA;;AACb,wBAAAA,SAAS,CAACE,KAAV,CAAgB,GAAhB,uEAAsBC,OAAtB,CAA8B,UAACf,MAAD,EAAY;AACxC,UAAMgB,KAAK,GAAGhB,MAAM,CAACiB,KAAP,CAAa,aAAb,CAAd;AACAJ,MAAAA,OAAO,CAACG,KAAK,CAAC,CAAD,CAAL,CAASE,IAAT,EAAD,CAAP,GAA2B,CAACF,KAAK,CAAC,CAAD,CAAL,IAAY,EAAb,EAAiBE,IAAjB,EAA3B;AACD,KAHD;AAID;;AACD,SAAOL,OAAP;AACD,CATD","sourcesContent":["export const getCookies = (req) =>\n  parseCookie(\n    typeof window === 'undefined' ? req?.headers?.cookie : document.cookie\n  );\n\nexport const setCookie = (k, v, exdays) => {\n  if (typeof window !== 'undefined') {\n    const d = new Date();\n    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n    document.cookie = `${k}=${v};expires=${d.toUTCString()};path=/`;\n  }\n};\n\nexport const removeCookie = (k) => {\n  setCookie(k, '', -1);\n};\n\nconst parseCookie = (cookieStr) => {\n  const cookies = {};\n  if (cookieStr) {\n    cookieStr.split(';')?.forEach((cookie) => {\n      const parts = cookie.match(/(.*?)=(.*)$/);\n      cookies[parts[1].trim()] = (parts[2] || '').trim();\n    });\n  }\n  return cookies;\n};\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Styled from 'styled-components';\nimport { useState, useContext } from 'react';\nimport { injectIntl } from 'react-intl';\nimport Router, { withRouter } from 'next/router';\nimport Link from 'next/link';\nimport { UnorderedListOutlined, CloseOutlined } from '@ant-design/icons';\nimport { MyContext } from '../reducer';\nconst {\n  Search\n} = _Input;\n\nconst isAddress = address => {\n  if (/^(0x)?[0-9a-fA-F]{40}$/i.test(address)) {\n    // check if it has the basic requirements of an address\n    return true;\n  } else {\n    // Otherwise check each case\n    return false;\n  }\n};\n\nconst isTransaction = tx => {\n  if (!/^(0x)?[0-9a-f]{64}$/i.test(tx)) {\n    // check if it has the basic requirements of an address\n    return false;\n  } else if (/^(0x)?[0-9a-f]{64}$/.test(tx) || /^(0x)?[0-9A-F]{64}$/.test(tx)) {\n    // If it's all small caps or all all caps, return true\n    return true;\n  } else {\n    // Otherwise check each case\n    return false;\n  }\n};\n\nconst handleOnSearch = value => {\n  const search = value.toLowerCase().trim();\n\n  if (!search) {\n    return false;\n  }\n\n  if (isAddress(search)) Router.push(`/addr/${search}`);else if (isTransaction(search)) Router.push(`/hash/${search}`);else Router.push(`/block/${search}`);\n};\n\nconst H5header = ({\n  intl,\n  state\n}) => {\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n\n  const changeLanguage = value => {\n    value !== intl.locale && window.handleChangeLang(value);\n  };\n\n  return __jsx(Hheader, null, __jsx(Htop, null, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    className: \"rs-header-logo\",\n    src: \"/images/logo.png\"\n  }))), __jsx(\"span\", {\n    className: \"title\"\n  }, \"CCM \", intl.messages.lang62), __jsx(\"div\", {\n    className: \"rs-h5-header-ri\"\n  }, __jsx(_Select, {\n    defaultValue: intl.locale,\n    onChange: value => {\n      changeLanguage(value);\n    }\n  }, __jsx(_Select.Option, {\n    value: \"zh\"\n  }, \"\\u4E2D\\u6587\"), __jsx(_Select.Option, {\n    value: \"en\"\n  }, \"English\")), __jsx(UnorderedListOutlined, {\n    onClick: () => setVisible(true),\n    className: \"rs-h5-tap\"\n  }))), __jsx(\"div\", {\n    className: \"rs-h5-search\"\n  }, __jsx(Search, {\n    placeholder: intl.messages.lang4,\n    allowClear: true,\n    enterButton: intl.messages.lang5,\n    size: \"large\",\n    onSearch: value => handleOnSearch(value)\n  })), __jsx(\"div\", {\n    className: visible ? 'rs-drawer-header an' : 'rs-drawer-header'\n  }, __jsx(\"div\", {\n    className: visible ? 'rs-drawer-header-cont an' : 'rs-drawer-header-cont'\n  }, __jsx(\"div\", {\n    className: \"rs-darwer-header-title\"\n  }, __jsx(\"div\", {\n    className: \"title\"\n  }, intl.messages.lang64), __jsx(\"div\", {\n    className: \"rs-darwer-header-close\",\n    onClick: () => setVisible(false)\n  }, __jsx(CloseOutlined, null))), __jsx(\"div\", {\n    className: \"rs-darwer-header-list\"\n  }, __jsx(\"div\", {\n    className: \"rs-drawer-header-li\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, intl.messages.lang1))), __jsx(\"div\", {\n    className: \"rs-drawer-header-li\"\n  }, __jsx(Link, {\n    href: \"/block\"\n  }, __jsx(\"a\", null, intl.messages.lang2))), __jsx(\"div\", {\n    className: \"rs-drawer-header-li\"\n  }, __jsx(Link, {\n    href: \"/trade\"\n  }, __jsx(\"a\", null, intl.messages.lang3)))))));\n};\n\nconst Header = injectIntl(({\n  intl,\n  router\n}) => {\n  const {\n    state\n  } = useContext(MyContext);\n\n  const changeLanguage = value => {\n    value !== intl.locale && window.handleChangeLang(value);\n  };\n\n  return __jsx(Box, {\n    state: state\n  }, state.window > 1199 && __jsx(\"div\", {\n    className: \"rs-header-cont\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, __jsx(\"img\", {\n    className: \"rs-header-logo\",\n    src: \"/images/logo.png\"\n  }))), __jsx(\"div\", {\n    className: \"rs-header-ri\"\n  }, __jsx(\"span\", {\n    className: router.pathname === '/' || router.pathname === '/index' ? 'active' : ''\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, intl.messages.lang1))), __jsx(\"span\", {\n    className: router.pathname === '/block' ? 'active' : ''\n  }, __jsx(Link, {\n    href: \"/block\"\n  }, __jsx(\"a\", null, intl.messages.lang2))), __jsx(\"span\", {\n    className: router.pathname === '/trade' ? 'active' : ''\n  }, __jsx(Link, {\n    href: \"/trade\"\n  }, __jsx(\"a\", null, intl.messages.lang3))), __jsx(\"div\", {\n    className: \"rs-lang-list\"\n  }, __jsx(\"div\", {\n    className: \"rs-lang-name\"\n  }, intl.locale === 'en' ? 'English' : '中文'), __jsx(\"ul\", null, __jsx(\"li\", {\n    className: \"lang === 'zh'? 'active':''\",\n    onClick: () => changeLanguage('zh')\n  }, \"\\u4E2D\\u6587\"), __jsx(\"li\", {\n    className: \"lang === 'en' ? 'active':''\",\n    onClick: () => changeLanguage('en')\n  }, \"English\")))), __jsx(\"div\", {\n    className: \"rs-header-search\"\n  }, __jsx(Search, {\n    placeholder: intl.messages.lang4,\n    allowClear: true,\n    enterButton: intl.messages.lang5,\n    size: \"large\",\n    onSearch: value => handleOnSearch(value)\n  }))), state.window < 1199 && __jsx(H5header, {\n    state: state,\n    intl: intl\n  }));\n});\nconst Hheader = Styled.div.withConfig({\n  displayName: \"Header__Hheader\",\n  componentId: \"sc-1mgje5j-0\"\n})([\"background:#fff;padding-bottom:10px;.rs-h5-search{padding:0 20px;}.rs-drawer-header{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.2);justify-content:flex-end;display:none;&.an{display:flex;}.rs-drawer-header-cont{width:0;padding:0;background:#fff;padding:15px;&.an{width:70%;height:100%;}.rs-darwer-header-title{height:40px;line-height:40px;font-size:18px;font-weight:bold;display:flex;align-items:center;.title{flex:1;}.rs-darwer-header-close{border:1px solid #999;color:#999;border-radius:50%;height:20px;display:flex;align-items:center;width:20px;font-size:12px;justify-content:center;float:revert;}}.rs-darwer-header-list{.rs-drawer-header-li{font-size:16px;line-height:35px;}}}}\"]);\nconst HeaderList = Styled.div.withConfig({\n  displayName: \"Header__HeaderList\",\n  componentId: \"sc-1mgje5j-1\"\n})([\".rs-h5-header-li{height:40px;line-height:40px;font-size:20px;}\"]);\nconst Htop = Styled.div.withConfig({\n  displayName: \"Header__Htop\",\n  componentId: \"sc-1mgje5j-2\"\n})([\"display:flex;align-items:center;height:80px;padding:20px;img{width:40px;height:40px;}.title{margin-left:10px;flex:1;overflow:hidden;height:22px;}.rs-h5-header-ri{flex:1;text-align:right;.rs-h5-tap{font-size:20px;margin-left:20px;}}\"]);\nconst Box = Styled.div.withConfig({\n  displayName: \"Header__Box\",\n  componentId: \"sc-1mgje5j-3\"\n})([\"width:100%;height:80px;background:#fff;box-shadow:-3px 5px 7px #eee;position:fixed;top:0;z-index:99;.rs-header-cont{height:80px;width:\", \";margin:0 auto;display:flex;align-items:center;}.rs-header-logo{width:40px;height:40px;}.rs-header-ri{flex:1;display:flex;justify-content:flex-end;> span{line-height:80px;color:#6c757e;font-size:16px;width:140px;text-align:center;&.active a{color:#1c8aec;font-weight:bold;}a{cursor:pointer;width:100%;height:80px;display:block;color:#6c757e;position:relative;text-decoration:none;}}}.rs-lang-list{height:80px;position:relative;&:hover ul{display:block;}ul{display:none;position:absolute;position:absolute;list-style:none;top:100%;margin:0;padding:0;border:1px solid #eee;border-radius:4px !important;z-index:99;background:#fff;li{text-align:center;width:120px;height:30px;line-height:30px;color:#6c757e;cursor:pointer;&:first-child{border-bottom:1px solid #eee;}&.active{color:#1c8aec;}&:hover{background-color:#1c8aec;color:#fff;}}}.rs-lang-name{color:#6c757e;font-size:16px;width:120px;text-align:center;height:80px;line-height:80px;cursor:pointer;}}.rs-header-search{width:350px;}\"], props => props.state.window > 1199 ? '1200px' : '92vw');\nexport default withRouter(Header);","map":null,"metadata":{},"sourceType":"module"}
{"ast":null,"code":"const placezero = num => {\n  return num > 10 ? '' + num : '0' + num;\n};\n\nexport const dateid = () => {\n  const cur = new Date();\n  return placezero(cur.getHours()) + placezero(cur.getMinutes()) + placezero(cur.getSeconds()) + placezero(cur.getDate()) + ('' + Math.random()).substring(2, 6);\n};\nexport const format = date => {\n  if (date) {\n    return placezero(date.getFullYear()) + '-' + placezero(date.getMonth() + 1) + '-' + placezero(date.getDate()) + ' ' + placezero(date.getHours()) + ':' + placezero(date.getMinutes()) + ':' + placezero(date.getSeconds());\n  } else {\n    return null;\n  }\n};\n/*\n  Convert unix timestamp to something that doesn't suck\n*/\n\nexport const getDuration = (timestamp, lang, number = 1) => {\n  var millis = Date.now() - timestamp * 1000;\n  var dur = [];\n  var units = [{\n    labelZh: '毫秒',\n    label: 'millis',\n    mod: 1000\n  }, {\n    labelZh: '秒',\n    label: 'seconds',\n    mod: 60\n  }, {\n    labelZh: '分钟',\n    label: 'mins',\n    mod: 60\n  }, {\n    labelZh: '小时',\n    label: 'hours',\n    mod: 24\n  }, {\n    labelZh: '天',\n    label: 'days',\n    mod: 365\n  }, {\n    labelZh: '年',\n    label: 'years',\n    mod: 1000\n  }]; // calculate the individual unit values\n\n  units.forEach(function (u) {\n    var val = millis % u.mod;\n    millis = (millis - val) / u.mod;\n    if (u.label == 'millis') return;\n    if (val > 0) dur.push({\n      label: lang === 'en' ? u.label : u.labelZh,\n      val: val\n    });\n  }); // convert object to string representation\n\n  dur.toString = function () {\n    return dur.reverse().slice(0, number).map(function (d) {\n      return d.val + ' ' + (d.val == 1 && lang === 'en' ? d.label.slice(0, -1) : d.label);\n    }).join(lang === 'en' ? ', ' : ' ');\n  };\n\n  return dur;\n};","map":null,"metadata":{},"sourceType":"module"}
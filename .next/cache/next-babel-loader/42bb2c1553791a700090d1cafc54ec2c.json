{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nvar _jsxFileName = \"/Users/libaozhong/cr/ccm-front/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useContext } from 'react';\nimport Styled from 'styled-components';\nimport Layout from '../components/layout';\nimport { BlockOutlined, RadarChartOutlined } from '@ant-design/icons';\nimport http, { fetch } from '../utils/http';\nimport { getDuration } from '../utils/date';\nimport { injectIntl } from 'react-intl';\nimport Chart from 'chart.js';\nimport Link from 'next/link';\nimport { MyContext } from '../reducer';\nconst Title = injectIntl(({\n  intl,\n  type,\n  refresh\n}) => {\n  const {\n    0: blockLoading,\n    1: setBlockLoading\n  } = useState(false);\n  const {\n    0: tradeLoading,\n    1: setTradeLoading\n  } = useState(false);\n\n  const handeRefresh = async () => {\n    if (type === 'block') {\n      setBlockLoading(true);\n      refresh(await handleGetBlock(false));\n      setBlockLoading(false);\n    } else {\n      setTradeLoading(true);\n      refresh(await handleGetTrade(false));\n      setTradeLoading(false);\n    }\n  };\n\n  return __jsx(CTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, type === 'block' ? __jsx(BlockOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 31\n    }\n  }) : __jsx(RadarChartOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 51\n    }\n  }), type === 'block' ? __jsx(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 31\n    }\n  }, intl.messages.lang8) : __jsx(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 64\n    }\n  }, intl.messages.lang56)), __jsx(\"div\", {\n    className: \"rs-home-block-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, __jsx(_Button, {\n    loading: type === 'block' && blockLoading || type === 'trade' && tradeLoading,\n    size: \"small\",\n    type: \"primary\",\n    onClick: () => handeRefresh(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, intl.messages.lang12), __jsx(_Button, {\n    size: \"small\",\n    style: {\n      marginLeft: 10\n    },\n    type: \"primary\",\n    href: type === 'block' ? '/block' : '/trade',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, intl.messages.lang13))));\n});\nconst Index = injectIntl(({\n  info,\n  intl,\n  block,\n  trade,\n  lang\n}) => {\n  const {\n    state\n  } = useContext(MyContext);\n  const {\n    0: blockList,\n    1: setBlockList\n  } = useState(block);\n  const {\n    0: tradeList,\n    1: setTradeList\n  } = useState(trade);\n  const {\n    0: chartData,\n    1: setChartData\n  } = useState([]);\n  useEffect(() => {\n    http.get('/api/home/charts', data => {\n      setChartData(data);\n    });\n  }, []);\n  useEffect(() => {\n    if (chartData.length) {\n      handleChange();\n    }\n  }, [chartData]);\n\n  const handleChange = () => {\n    var options = {\n      legend: {\n        display: false\n      },\n      maintainAspectRatio: true,\n      // responsive: false,\n      // spanGaps: false,\n      elements: {\n        line: {\n          tension: 0.000001\n        }\n      },\n      plugins: {\n        filler: {\n          propagate: false\n        }\n      },\n      scales: {\n        xAxes: [{\n          ticks: {\n            // autoSkip: false,\n            maxRotation: 0\n          }\n        }]\n      }\n    };\n    const ccmChart = document.getElementById('ccmChart').getContext('2d');\n    ccmChart.canvas.height = 160;\n    new Chart(ccmChart, {\n      type: 'line',\n      data: {\n        labels: chartData.map(item => `${item._id.mmonth} - ${item._id.day}`),\n        datasets: [{\n          backgroundColor: '#8bc7ff',\n          borderColor: '#1890ff',\n          data: chartData.map(item => item.count),\n          fill: 'start',\n          label: ''\n        }]\n      },\n      options: options\n    });\n  };\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, __jsx(CcInfo, {\n    state: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"rs-home-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, \"CCM\"), __jsx(\"div\", {\n    className: \"rs-home-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"$ \", info.last, __jsx(\"span\", {\n    className: info.change >= 0 ? '' : 'font-red',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, info.change >= 0 ? '+' : '', info.change, \"%\")), __jsx(\"div\", {\n    className: \"rs-home-info-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, intl.messages.lang10), __jsx(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, info.vol)), __jsx(\"div\", {\n    className: \"rs-home-info-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, intl.messages.lang8), __jsx(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, info.block)), __jsx(\"div\", {\n    className: \"rs-home-info-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, intl.messages.lang11), __jsx(\"em\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, info.tradeNumber))), __jsx(\"div\", {\n    className: \"rs-home-tr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, intl.messages.lang6), __jsx(\"canvas\", {\n    id: \"ccmChart\",\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }))), __jsx(Trade, {\n    state: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"rs-home-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, __jsx(Title, {\n    type: \"block\",\n    refresh: setBlockList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"rs-home-block-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, blockList.map((item, i) => __jsx(\"div\", {\n    key: i,\n    className: \"rs-home-block-li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"rs-home-block-li-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: `/block/${item.number}`,\n    as: `/block/${item.number}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, \"Block \", item.number)), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 19\n    }\n  }, getDuration(item.timestamp, intl.locale).toString(), \" \", intl.messages.lang14)), __jsx(\"div\", {\n    className: \"rs-home-block-li-ri\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, intl.messages.lang15), __jsx(Link, {\n    href: `/addr/${item.miner}`,\n    as: `/addr/${item.miner}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 23\n    }\n  }, item.miner))), __jsx(\"div\", {\n    className: \"txns\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, item.txn, \" txns\")))))), __jsx(\"div\", {\n    className: \"rs-home-ts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }\n  }, __jsx(Title, {\n    type: \"trade\",\n    refresh: setTradeList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }), __jsx(\"div\", {\n    className: \"rs-home-ts-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, tradeList.map((item, i) => {\n    var _item$input, _item$input2, _item$input3;\n\n    return __jsx(\"div\", {\n      key: i,\n      className: \"rs-home-ts-li\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, __jsx(RadarChartOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"rs-home-ts-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"addr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }, \"TX\"), __jsx(Link, {\n      href: `/hash/${item.hash}`,\n      as: `/hash/${item.hash}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    }, item.hash))), __jsx(\"div\", {\n      className: \"path\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 19\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, intl.messages.lang16), __jsx(Link, {\n      href: `/addr/${item.from}`,\n      as: `/addr/${item.from}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 23\n      }\n    }, item.from)), __jsx(\"span\", {\n      className: \"an\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, intl.messages.lang17), item.value === '0' ? __jsx(Link, {\n      href: `/addr/0x${(_item$input = item.input) === null || _item$input === void 0 ? void 0 : _item$input.substring(34, 74)}`,\n      as: `/addr/0x${(_item$input2 = item.input) === null || _item$input2 === void 0 ? void 0 : _item$input2.substring(34, 74)}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 23\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 25\n      }\n    }, \"0x\", (_item$input3 = item.input) === null || _item$input3 === void 0 ? void 0 : _item$input3.substring(34, 74))) : __jsx(Link, {\n      href: `/addr/${item.to}`,\n      as: `/addr/${item.to}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 23\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 25\n      }\n    }, item.to)))), __jsx(\"div\", {\n      className: \"time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, getDuration(item.timestamp, intl.locale).toString(), intl.messages.lang14));\n  })))));\n});\nconst CcInfo = Styled.div.withConfig({\n  displayName: \"pages__CcInfo\",\n  componentId: \"sc-5ksz4j-0\"\n})([\"height:\", \";display:\", \";> div{padding:20px;width:\", \";height:100%;background:#fff;border-radius:6px;&:first-child{margin-right:\", \";margin-bottom:\", \";}.title{font-size:18px;margin-bottom:10px;color:#666;}.rs-home-price{display:flex;align-items:center;color:#323232;font-size:24px;line-height:24px;margin-bottom:20px;span{margin-left:15px;color:#38c9af;font-size:16px;&.font-red{color:#e66157;}}}.rs-home-info-list{margin-bottom:20px;display:flex;align-items:center;span{color:#999;line-height:18px;height:18px;font-size:14px;}em{flex:1;color:#6E7594;text-align:right;font-weight:bold;}}}\"], props => props.state.window > 1199 ? '240px' : 'auto', props => props.state.window > 1199 ? 'flex' : 'block', props => props.state.window > 1199 ? '49.5%' : '100', props => props.state.window > 1199 ? '1%' : '0', props => props.state.window > 1199 ? '0' : '20px');\nconst Trade = Styled.div.withConfig({\n  displayName: \"pages__Trade\",\n  componentId: \"sc-5ksz4j-1\"\n})([\"margin-top:20px;border-radius:6px;display:\", \";background:#fff;> div{padding:0 10px 15px;width:\", \";&:first-child{border-right:1px solid #eee;}.rs-home-block-list{padding:0 10px 20px;overflow-y:auto;height:620px;.rs-home-block-li{height:60px;margin-bottom:20px;display:flex;.rs-home-block-li-block{text-align:center;background:#40a9ff;padding:10px;color:#fff;margin-right:10px;width:120px;border-radius:4px;font-size:14px;color:#fff;a{text-decoration:underline;height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100px;display:block;color:#fff;}}.rs-home-block-li-ri{flex:1;align-items:center;width:100%;overflow:hidden;.block{height:20px;line-height:20px;color:#40a9ff;margin-top:10px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;span{color:#333;}}.txns{color:#40a9ff;}}}}.rs-home-ts-list{padding:0 10px 20px;overflow-y:auto;height:620px;.rs-home-ts-li{display:flex;align-items:center;height:60px;margin-bottom:20px;> span{margin-right:15px;font-size:24px;}.rs-home-ts-cont{flex:1;overflow:hidden;.addr{color:#40a9ff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;span{color:#333;margin-right:5px;font-weight:600;}}.path{display:flex;span{color:#999;margin-right:5px;&.an{margin-left:5px}}a{color:#40a9ff;max-width:172px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;}}}.time{width:120px;text-align:right;margin-left:10px;color:#999;}}}}\"], props => props.state.window > 1199 ? 'flex' : 'block', props => props.state.window > 1199 ? '50%' : '100%');\nconst CTitle = Styled.div.withConfig({\n  displayName: \"pages__CTitle\",\n  componentId: \"sc-5ksz4j-2\"\n})([\".title{font-size:16px;margin-bottom:15px;color:#999;border-bottom:1px solid #eee;display:flex;height:45px;align-items:center;> span{font-weight:600;color:#666;em{margin-left:10px;}}.rs-home-block-top{text-align:right;flex:1;display:flex;align-items:center;justify-content:flex-end;}}\"]);\n\nconst handleGetBlock = async (isServer, ctx) => {\n  if (isServer) {\n    return await fetch(`/api/home/block`, ctx);\n  } else {\n    return await http.get('/api/home/block');\n  }\n};\n\nconst handleGetTrade = async (isServer, ctx) => {\n  if (isServer) {\n    return await fetch(`/api/home/trade`, ctx);\n  } else {\n    return await http.get('/api/home/trade');\n  }\n};\n\nexport const getServerSideProps = async ctx => {\n  const list = await Promise.all([fetch(`/api/home/block`, ctx), fetch(`/api/home/trade`, ctx), await fetch(`/api/home/info`, ctx)]);\n  return {\n    props: {\n      block: list[0],\n      trade: list[1],\n      info: list[2]\n    }\n  };\n};\nexport default Index;","map":{"version":3,"sources":["/Users/libaozhong/cr/ccm-front/pages/index.js"],"names":["useState","useEffect","useContext","Styled","Layout","BlockOutlined","RadarChartOutlined","http","fetch","getDuration","injectIntl","Chart","Link","MyContext","Title","intl","type","refresh","blockLoading","setBlockLoading","tradeLoading","setTradeLoading","handeRefresh","handleGetBlock","handleGetTrade","messages","lang8","lang56","lang12","marginLeft","lang13","Index","info","block","trade","lang","state","blockList","setBlockList","tradeList","setTradeList","chartData","setChartData","get","data","length","handleChange","options","legend","display","maintainAspectRatio","elements","line","tension","plugins","filler","propagate","scales","xAxes","ticks","maxRotation","ccmChart","document","getElementById","getContext","canvas","height","labels","map","item","_id","mmonth","day","datasets","backgroundColor","borderColor","count","fill","label","last","change","lang10","vol","lang11","tradeNumber","lang6","width","i","number","timestamp","locale","toString","lang14","lang15","miner","txn","hash","lang16","from","lang17","value","input","substring","to","CcInfo","div","props","window","Trade","CTitle","isServer","ctx","getServerSideProps","list","Promise","all"],"mappings":"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","sourcesContent":["import { useState, useEffect, useContext } from 'react'\nimport Styled from 'styled-components'\nimport Layout from '../components/layout'\nimport { BlockOutlined, RadarChartOutlined } from '@ant-design/icons'\nimport http, { fetch } from '../utils/http'\nimport { Button } from 'antd'\nimport { getDuration } from '../utils/date'\nimport { injectIntl } from 'react-intl'\nimport Chart from 'chart.js'\nimport Link from 'next/link'\nimport { MyContext } from '../reducer'\n\nconst Title = injectIntl(({ intl, type, refresh }) => {\n  const [blockLoading, setBlockLoading] = useState(false)\n  const [tradeLoading, setTradeLoading] = useState(false)\n  const handeRefresh = async () => {\n    if (type === 'block') {\n      setBlockLoading(true)\n      refresh(await handleGetBlock(false))\n      setBlockLoading(false)\n    } else {\n      setTradeLoading(true)\n      refresh(await handleGetTrade(false))\n      setTradeLoading(false)\n    }\n  }\n  return (\n    <CTitle>\n      <div className=\"title\">\n        <span>\n          {type === 'block' ? <BlockOutlined /> : <RadarChartOutlined />}\n          {type === 'block' ? <em>{intl.messages.lang8}</em> : <em>{intl.messages.lang56}</em>}\n        </span>\n        <div className=\"rs-home-block-top\">\n          <Button loading={(type === 'block' && blockLoading) || (type === 'trade' && tradeLoading)} size=\"small\" type=\"primary\" onClick={() => handeRefresh()}>\n            {intl.messages.lang12}\n          </Button>\n          <Button size=\"small\" style={{ marginLeft: 10 }} type=\"primary\" href={type === 'block' ? '/block' : '/trade'}>\n            {intl.messages.lang13}\n          </Button>\n        </div>\n      </div>\n    </CTitle>\n  )\n})\n\nconst Index = injectIntl(({ info, intl, block, trade, lang }) => {\n  const { state } = useContext(MyContext)\n  const [blockList, setBlockList] = useState(block)\n  const [tradeList, setTradeList] = useState(trade)\n  const [chartData, setChartData] = useState([])\n  useEffect(() => {\n    http.get('/api/home/charts', (data) => {\n      setChartData(data)\n    })\n  }, [])\n\n  useEffect(() => {\n    if (chartData.length) {\n      handleChange()\n    }\n  }, [chartData])\n\n  const handleChange = () => {\n    var options = {\n      legend: { display: false },\n      maintainAspectRatio: true,\n      // responsive: false,\n      // spanGaps: false,\n      elements: {\n        line: {\n          tension: 0.000001\n        }\n      },\n      plugins: {\n        filler: {\n          propagate: false\n        }\n      },\n      scales: {\n        xAxes: [\n          {\n            ticks: {\n              // autoSkip: false,\n              maxRotation: 0\n            }\n          }\n        ]\n      }\n    }\n    const ccmChart = document.getElementById('ccmChart').getContext('2d')\n    ccmChart.canvas.height = 160\n    new Chart(ccmChart, {\n      type: 'line',\n      data: {\n        labels: chartData.map((item) => `${item._id.mmonth} - ${item._id.day}`),\n        datasets: [\n          {\n            backgroundColor: '#8bc7ff',\n            borderColor: '#1890ff',\n            data: chartData.map((item) => item.count),\n            fill: 'start',\n            label: ''\n          }\n        ]\n      },\n      options: options\n    })\n  }\n\n  return (\n    <Layout>\n      <CcInfo state={state}>\n        <div className=\"rs-home-info\">\n          <div className=\"title\">CCM</div>\n          <div className=\"rs-home-price\">\n            $ {info.last}\n            <span className={info.change >= 0 ? '' : 'font-red'}>\n              {info.change >= 0 ? '+' : ''}\n              {info.change}%\n            </span>\n          </div>\n          <div className=\"rs-home-info-list\">\n            <span>{intl.messages.lang10}</span>\n            <em>{info.vol}</em>\n          </div>\n          <div className=\"rs-home-info-list\">\n            <span>{intl.messages.lang8}</span>\n            <em>{info.block}</em>\n          </div>\n          <div className=\"rs-home-info-list\">\n            <span>{intl.messages.lang11}</span>\n            <em>{info.tradeNumber}</em>\n          </div>\n        </div>\n        <div className=\"rs-home-tr\">\n          <div className=\"title\">{intl.messages.lang6}</div>\n          <canvas id=\"ccmChart\" style={{ width: '100%' }}></canvas>\n        </div>\n      </CcInfo>\n      <Trade state={state}>\n        <div className=\"rs-home-block\">\n          <Title type=\"block\" refresh={setBlockList} />\n          <div className=\"rs-home-block-list\">\n            {blockList.map((item, i) => (\n              <div key={i} className=\"rs-home-block-li\">\n                <div className=\"rs-home-block-li-block\">\n                  <Link href={`/block/${item.number}`} as={`/block/${item.number}`}>\n                    <a>Block {item.number}</a>\n                  </Link>\n                  <div>\n                    {getDuration(item.timestamp, intl.locale).toString()} {intl.messages.lang14}\n                  </div>\n                </div>\n                <div className=\"rs-home-block-li-ri\">\n                  <div className=\"block\">\n                    <span>{intl.messages.lang15}</span>\n                    <Link href={`/addr/${item.miner}`} as={`/addr/${item.miner}`}>\n                      <a>{item.miner}</a>\n                    </Link>\n                  </div>\n                  <div className=\"txns\">{item.txn} txns</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"rs-home-ts\">\n          <Title type=\"trade\" refresh={setTradeList} />\n          <div className=\"rs-home-ts-list\">\n            {tradeList.map((item, i) => (\n              <div key={i} className=\"rs-home-ts-li\">\n                <RadarChartOutlined />\n                <div className=\"rs-home-ts-cont\">\n                  <div className=\"addr\">\n                    <span>TX</span>\n                    <Link href={`/hash/${item.hash}`} as={`/hash/${item.hash}`}>\n                      <a>{item.hash}</a>\n                    </Link>\n                  </div>\n                  <div className=\"path\">\n                    <span>{intl.messages.lang16}</span>\n                    <Link href={`/addr/${item.from}`} as={`/addr/${item.from}`}>\n                      <a>{item.from}</a>\n                    </Link>\n                    <span className=\"an\">{intl.messages.lang17}</span>\n                    {item.value === '0' ? (\n                      <Link href={`/addr/0x${item.input?.substring(34, 74)}`} as={`/addr/0x${item.input?.substring(34, 74)}`}>\n                        <a>0x{item.input?.substring(34, 74)}</a>\n                      </Link>\n                    ) : (\n                      <Link href={`/addr/${item.to}`} as={`/addr/${item.to}`}>\n                        <a>{item.to}</a>\n                      </Link>\n                    )}\n                  </div>\n                </div>\n                <div className=\"time\">\n                  {getDuration(item.timestamp, intl.locale).toString()}\n                  {intl.messages.lang14}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </Trade>\n    </Layout>\n  )\n})\n\nconst CcInfo = Styled.div`\n  height:${(props) => (props.state.window > 1199 ? '240px' : 'auto')};\n  display:${(props) => (props.state.window > 1199 ? 'flex' : 'block')};\n  > div{\n    padding: 20px;\n    width: ${(props) => (props.state.window > 1199 ? '49.5%' : '100')};\n    height: 100%;\n    background:#fff;\n    border-radius:6px;\n    &:first-child{\n      margin-right:${(props) => (props.state.window > 1199 ? '1%' : '0')};\n      margin-bottom:${(props) => (props.state.window > 1199 ? '0' : '20px')};\n    }\n    .title{\n      font-size: 18px;\n      margin-bottom: 10px;\n      color: #666;\n    }\n    .rs-home-price{\n      display: flex;\n      align-items: center;\n      color: #323232;\n      font-size: 24px;\n      line-height: 24px;\n      margin-bottom: 20px;\n      span{\n        margin-left:15px;\n        color: #38c9af;\n        font-size: 16px;\n        &.font-red{\n          color: #e66157;\n        }\n      }\n    }\n    .rs-home-info-list{\n      margin-bottom: 20px;\n      display: flex;\n      align-items: center;\n      span{\n        color: #999;\n        line-height: 18px;\n        height: 18px;\n        font-size: 14px;\n      }\n      em{\n        flex:1;\n        color: #6E7594;\n        text-align: right;\n        font-weight: bold;\n      }\n    }\n  }\n\n`\nconst Trade = Styled.div`\n  margin-top:20px;\n  border-radius: 6px;\n  display: ${(props) => (props.state.window > 1199 ? 'flex' : 'block')};\n  background: #fff;\n  > div{\n    padding: 0 10px 15px;\n    width:${(props) => (props.state.window > 1199 ? '50%' : '100%')};\n    &:first-child{\n      border-right:1px solid #eee;\n    }\n    .rs-home-block-list{\n      padding: 0 10px 20px;\n      overflow-y: auto;\n      height: 620px;\n      .rs-home-block-li{\n        height: 60px;\n        margin-bottom: 20px;\n        display: flex;\n        .rs-home-block-li-block{\n          text-align: center;\n          background: #40a9ff;\n          padding: 10px;\n          color:#fff;\n          margin-right: 10px;\n          width: 120px;\n          border-radius: 4px;\n          font-size: 14px;\n          color:#fff;\n          a{\n            text-decoration: underline;\n            height: 20px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            width: 100px;\n            display: block;\n            color:#fff;\n          }\n        }\n        .rs-home-block-li-ri{\n          flex: 1;\n          align-items: center;\n          width: 100%;\n          overflow: hidden;\n          .block{\n            height: 20px;\n            line-height: 20px;\n            color: #40a9ff;\n            margin-top:10px;\n            width: 100%;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            span{\n              color: #333;\n            }\n          }\n          .txns{\n            color:#40a9ff;\n          }\n        }\n      }\n    }\n    .rs-home-ts-list{\n      padding: 0 10px 20px;\n      overflow-y: auto;\n      height: 620px;\n      .rs-home-ts-li{\n        display: flex;\n        align-items: center;\n        height: 60px;\n        margin-bottom: 20px;\n        > span{\n          margin-right: 15px;\n          font-size: 24px;\n        }\n        .rs-home-ts-cont{\n          flex:1;\n          overflow: hidden;\n          .addr{\n            color:#40a9ff;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            span{\n              color:#333;\n              margin-right: 5px;\n              font-weight: 600;\n            }\n          }\n          .path{\n            display: flex;\n            span{\n              color:#999;\n              margin-right: 5px;\n              &.an{\n                margin-left:5px\n              }\n            }\n            a{\n              color:#40a9ff;\n              max-width: 172px;\n              white-space: nowrap;\n              overflow: hidden;\n              text-overflow: ellipsis;\n              display: block;\n            }\n          }\n        }\n        .time{\n          width: 120px;\n          text-align: right;\n          margin-left: 10px;\n          color:#999;\n        }\n      }\n    }\n  }\n`\n\nconst CTitle = Styled.div`\n.title {\n  font-size: 16px;\n  margin-bottom: 15px;\n  color: #999;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  height: 45px;\n  align-items: center;\n  > span{\n    font-weight: 600;\n    color: #666;\n    em{\n      margin-left: 10px;\n    }\n  }\n  .rs-home-block-top {\n    text-align: right;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n}\n\n`\n\nconst handleGetBlock = async (isServer, ctx) => {\n  if (isServer) {\n    return await fetch(`/api/home/block`, ctx)\n  } else {\n    return await http.get('/api/home/block')\n  }\n}\nconst handleGetTrade = async (isServer, ctx) => {\n  if (isServer) {\n    return await fetch(`/api/home/trade`, ctx)\n  } else {\n    return await http.get('/api/home/trade')\n  }\n}\n\nexport const getServerSideProps = async (ctx) => {\n  const list = await Promise.all([fetch(`/api/home/block`, ctx), fetch(`/api/home/trade`, ctx), await fetch(`/api/home/info`, ctx)])\n  return {\n    props: {\n      block: list[0],\n      trade: list[1],\n      info: list[2]\n    }\n  }\n}\nexport default Index\n"]},"metadata":{},"sourceType":"module"}